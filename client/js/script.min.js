"use strict";!function(a,b){"function"==typeof define&&define.amd?define(function(){return b(a,a.document)}):"undefined"!=typeof module&&module.exports?module.exports=b(a,a.document):a.Shake=b(a,a.document)}("undefined"!=typeof window?window:this,function(a,b){function c(c){if(this.hasDeviceMotion="ondevicemotion"in a,this.options={threshold:15,timeout:1e3},"object"==typeof c)for(var d in c)c.hasOwnProperty(d)&&(this.options[d]=c[d]);if(this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null,"function"==typeof b.CustomEvent)this.event=new b.CustomEvent("shake",{bubbles:!0,cancelable:!0});else{if("function"!=typeof b.createEvent)return!1;this.event=b.createEvent("Event"),this.event.initEvent("shake",!0,!0)}}return c.prototype.reset=function(){this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null},c.prototype.start=function(){this.reset(),this.hasDeviceMotion&&a.addEventListener("devicemotion",this,!1)},c.prototype.stop=function(){this.hasDeviceMotion&&a.removeEventListener("devicemotion",this,!1),this.reset()},c.prototype.devicemotion=function(b){var d,e,c=b.accelerationIncludingGravity,f=0,g=0,h=0;return null===this.lastX&&null===this.lastY&&null===this.lastZ?(this.lastX=c.x,this.lastY=c.y,this.lastZ=c.z,void 0):(f=Math.abs(this.lastX-c.x),g=Math.abs(this.lastY-c.y),h=Math.abs(this.lastZ-c.z),(f>this.options.threshold&&g>this.options.threshold||f>this.options.threshold&&h>this.options.threshold||g>this.options.threshold&&h>this.options.threshold)&&(d=new Date,e=d.getTime()-this.lastTime.getTime(),e>this.options.timeout&&(a.dispatchEvent(this.event),this.lastTime=new Date)),this.lastX=c.x,this.lastY=c.y,this.lastZ=c.z,void 0)},c.prototype.handleEvent=function(a){return"function"==typeof this[a.type]?this[a.type](a):void 0},c}),function(a,b){function m(c,f,k){var l=[];f=1==f?{entropy:!0}:f||{};var m=q(p(f.entropy?[c,s(a)]:null==c?r():c,3),l),t=new n(l),u=function(){for(var a=t.g(e),b=h,c=0;i>a;)a=(a+c)*d,b*=d,c=t.g(1);for(;a>=j;)a/=2,b/=2,c>>>=1;return(a+c)/b};return u.int32=function(){return 0|t.g(4)},u.quick=function(){return t.g(4)/(4*(1<<30))},u.double=u,q(s(t.S),a),(f.pass||k||function(a,c,d,e){return e&&(e.S&&o(e,t),a.state=function(){return o(t,{})}),d?(b[g]=a,c):a})(u,m,"global"in f?f.global:this==b,f.state)}function n(a){var b,c=a.length,e=this,f=0,g=e.i=e.j=0,h=e.S=[];for(c||(a=[c++]);d>f;)h[f]=f++;for(f=0;d>f;f++)h[f]=h[g=k&g+a[f%c]+(b=h[f])],h[g]=b;(e.g=function(a){for(var b,c=0,f=e.i,g=e.j,h=e.S;a--;)b=h[f=k&f+1],c=c*d+h[k&(h[f]=h[g=k&g+b])+(h[g]=b)];return e.i=f,e.j=g,c})(d)}function o(a,b){return b.i=a.i,b.j=a.j,b.S=a.S.slice(),b}function p(a,b){var e,c=[],d=typeof a;if(b&&"object"==d)for(e in a)try{c.push(p(a[e],b-1))}catch(f){}return c.length?c:"string"==d?a:a+"\0"}function q(a,b){for(var d,c=a+"",e=0;e<c.length;)b[k&e]=k&(d^=19*b[k&e])+c.charCodeAt(e++);return s(b)}function r(){try{if(l)return s(l.randomBytes(d));var b=new Uint8Array(d);return(c.crypto||c.msCrypto).getRandomValues(b),s(b)}catch(e){var f=c.navigator,g=f&&f.plugins;return[+new Date,c,g,c.screen,s(a)]}}function s(a){return String.fromCharCode.apply(0,a)}var l,c=this,d=256,e=6,f=52,g="random",h=b.pow(d,e),i=b.pow(2,f),j=2*i,k=d-1;if(b["seed"+g]=m,q(b.random(),a),"object"==typeof module&&module.exports){module.exports=m;try{l=require("crypto")}catch(t){}}else"function"==typeof define&&define.amd&&define(function(){return m})}([],Math),function(a){var b=/iPhone/i,c=/iPod/i,d=/iPad/i,e=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,f=/Android/i,g=/IEMobile/i,h=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,i=/BlackBerry/i,j=/BB10/i,k=/Opera Mini/i,l=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,m=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),n=function(a,b){return a.test(b)},o=function(a){var o=a||navigator.userAgent;return this.apple={phone:n(b,o),ipod:n(c,o),tablet:n(d,o),device:n(b,o)||n(c,o)||n(d,o)},this.android={phone:n(e,o),tablet:!n(e,o)&&n(f,o),device:n(e,o)||n(f,o)},this.windows={phone:n(g,o),tablet:n(h,o),device:n(g,o)||n(h,o)},this.other={blackberry:n(i,o),blackberry10:n(j,o),opera:n(k,o),firefox:n(l,o),device:n(i,o)||n(j,o)||n(k,o)||n(l,o)},this.seven_inch=n(m,o),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},p=function(){var a=new o;return a.Class=o,a};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=o:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=p():"function"==typeof define&&define.amd?define("isMobile",[],a.isMobile=p()):a.isMobile=p()}(this);var DiceRoll=angular.module("DiceRoll",["ngRoute","ngMaterial","ngMessages","ngAnimate"]);DiceRoll.config(["$locationProvider",function(a){a.html5Mode(!0).hashPrefix("!")}]),DiceRoll.config(["$routeProvider",function(a){a.when("/",{templateUrl:"/views/choosedice.html"}).when("/blue",{templateUrl:"/views/bluedice.html"}).when("/orange",{templateUrl:"/views/orangedice.html"}).when("/red",{templateUrl:"/views/reddice.html"}).when("/darknumber",{templateUrl:"/views/darknumberdice.html"}).when("/dark",{templateUrl:"/views/darkdice.html"}).when("/dark2",{templateUrl:"/views/darkdice2.html"}).otherwise({redirectTo:"/"})}]);var myShakeEvent=new Shake({threshold:5,timeout:10});myShakeEvent.start(),DiceRoll.directive("shakeIt",["$window",function(a){var b;return{link:function(c){angular.element(a).on("shake",function(){c.$broadcast("shakeIt::shaking"),clearInterval(b),b=setInterval(function(){c.$broadcast("shakeIt::shaked"),clearInterval(b)},500)})}}}]),DiceRoll.directive("myRandomshow",function(){function b(a,b){return Math.floor(Math.random()*(b-a+1)+a)}Math.seedrandom();var a=Math.random();return{link:function(c,d){d.children().attr("hide","true"),d.children().eq("0").removeAttr("hide"),c.$on("shakeIt::shaking",function(){a++,d.children().attr("hide","true"),d.children().eq("1").removeAttr("hide")}),c.$on("shakeIt::shaked",function(){a++,d.children().attr("hide","true"),Math.seedrandom(a,{entropy:!0}),d.children().eq(b(2,d.children().length-1)).removeAttr("hide")})}}}),DiceRoll.controller("DiceRollCtrl",["$scope","$interval",function(a,b){a.desktopmdown=function(){a.startroll()},a.desktopmup=function(){a.stoproll(),a.$broadcast("shakeIt::shaked")};var c;a.startroll=function(){a.stoproll(),c=b(d,10)},a.stoproll=function(){b.cancel(c)},a.$on("$destroy",function(){a.stoproll()});var d=function(){a.$broadcast("shakeIt::shaking")}}]),DiceRoll.config(["$mdIconProvider",function(a){a.icon("3Ddice:blue","/img/3Dblue.svg",1e3).icon("3Ddice:orange","/img/3Dorange.svg",1e3).icon("3Ddice:red","/img/3Dred.svg",1e3).icon("3Ddice:dark","/img/3Ddark.svg",1e3).icon("icon:shake","/img/ic_vibration_48px.svg",48).icon("icon:back","/img/ic_arrow_back_48px.svg",48).icon("dice:dsuccess","/img/dice/dsuccess.svg",1e3).icon("dice:efail","/img/dice/efail.svg",1e3).icon("dice:fail","/img/dice/fail.svg",1e3).icon("dice:four","/img/dice/four.svg",1e3).icon("dice:skill","/img/dice/skill.svg",1e3).icon("dice:success","/img/dice/success.svg",1e3).icon("dice:three","/img/dice/three.svg",1e3).icon("dice:two","/img/dice/two.svg",1e3)}]).run(["$http","$templateCache",function(a,b){var c=["/img/3Dblue.svg","/img/3Dorange.svg","/img/3Dred.svg","/img/3Ddark.svg","/img/ic_vibration_48px.svg","/img/ic_arrow_back_48px.svg","/img/dice/success.svg","/img/dice/efail.svg","/img/dice/fail.svg","/img/dice/four.svg","/img/dice/skill.svg","/img/dice/success.svg","/img/dice/three.svg","/img/dice/two.svg"];angular.forEach(c,function(c){a.get(c,{cache:b})})}]);